<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Weather</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

</head>

<body>
  <nav class="row" style="background: rgb(107, 155, 85); color: white;">
    <div class="col-md-3">
        <h1 style="margin-bottom: 0; margin-left: 100px;">Weather</h1>
        <h4 style="font-size: small; margin-top: 0; margin-left: 100px;">Developed by Angelo 22112003</h4>
    </div>
</nav>
<br>
<br>

  <!-- Search form -->
  <center class="row">
    <form method="post" class="col-md-6 col-md-offset-3">
      {% csrf_token %}
      <div class="input-group">
        <input type="text" class="form-control" name="city" placeholder="Search">
        <div class="input-group-btn">
          <button class="btn btn-default" type="submit">
            <i class="glyphicon glyphicon-search"></i>
          </button>
        </div>
      </div>
    </form>
  </center>

  <br>
  <br>

  <!-- Current weather -->
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <div class="panel panel-default">
        <div class="panel-heading">Current Weather</div>
        <div class="panel-body">
          {% if current_weather %}
          <p>City: {{ current_weather.city }}</p>
          <p>Country Code: {{ current_weather.country_code }}</p>
          <p>Coordinates: {{ current_weather.coordinate }}</p>
          <p>Temperature: {{ current_weather.temp }} K</p>
          <p>Pressure: {{ current_weather.pressure }} hPa</p>
          <p>Humidity: {{ current_weather.humidity }}%</p>
          {% else %}
          <p>No current weather data available</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <br>
  <br>

  <!-- Historic weather data -->
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <div class="panel panel-default">
        <div class="panel-heading">Historical Weather Data</div>
        <div class="panel-body">
          <div class="card">
            <ul class="list-group list-group-flush">
              {% for entry in wdata %}
              <li class="list-group-item">
                <strong>City:</strong> {{ entry.city }}<br>
                <strong>Country Code:</strong> {{ entry.country_code }}<br>
                <strong>Coordinates:</strong> {{ entry.coordinate }}<br>
                <strong>Temperature:</strong> {{ entry.temp }} K<br>
                <strong>Pressure:</strong> {{ entry.pressure }} hPa<br>
                <strong>Humidity:</strong> {{ entry.humidity }}%
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

</body>

</html>
